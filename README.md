# 🚀 Project: Test Automation Framework with Cucumber and Allure

This project is an automation testing framework that utilizes **Cucumber** for behavior-driven testing and **Allure**
for generating interactive reports. The main focus is on testing a product page using Cucumber scenarios and visualizing
the results with Allure.

---

## 📌 Main Features

- ✅ **Behavior-Driven Development (BDD)**: Uses **Cucumber** with **JUnit 5** to define tests in plain language.
- ✅ **Allure Reporting**: Generates interactive and detailed reports.
- ✅ **Automated Feature Generation from Excel**: Automatically generates `.feature` files from data in Excel.
- ✅ **CI/CD Integration**: Fully integrated with **GitHub Actions** to automate test execution and report generation on
  every push or pull request.
- ✅ **Data-Driven Testing**: Uses **Excel** to define test scenarios dynamically.
- ✅ **Easy to Extend**: Easily extendable for new test cases and features.

---

## 📂 Project Structure

```
📆 test-automation-sjc
 ┗ 📂 .github
   ┗ 📂 workflows           # GitHub Actions workflow file
 ┗ 📂 scripts
   ├ run_suite.sh           # Executes tests with parameters and generates Allure report
   ┗ run_allure.sh          # Opens Allure Report locally
 ┗ 📂 src
   ├ 📂 main
   │ ┗ 📂 resources         # General configuration files (e.g., config.properties)
   ┗ 📂 test
     ├ 📂 java
     │ ├ 📂 data            # JSON and Excel data readers
     │ ├ 📂 hooks           # Hooks for setup and teardown
     │ ├ 📂 listeners       # Test execution listeners
     │ ├ 📂 models          # Data classes (POJOs)
     │ ├ 📂 pages           # Page Object classes
     │ ├ 📂 steps           # Step Definitions
     │ ├ 📂 principal       # Main test runner class
     │ ┗ 📂 utilities       # WebDriver setup, flows, logs, and feature generators
     ┗ 📂 resources
       ├ 📂 data            # JSON login files and Excel input data
       ┗ 📂 features        # Cucumber feature files
 ┗ 📌 pom.xml               # Maven project configuration and dependencies
```

---

## ⚙️ Installation & Setup

### 🔹 Prerequisites

- Java 17+
- Maven
- Cucumber and JUnit 5 (already included in the `pom.xml`)
- Allure CLI and plugin (ensure it's installed and configured)

### 🔹 Installation

```bash
# Clone the repository
$ git clone https://github.com/JosKavi33/test-automation-sjc.git
$ cd test-automation-sjc

# Install dependencies
$ mvn clean install
```

---

## ▶️ Running the Tests

This command compiles the project, executes the test suite using Maven, and generates an Allure report.
You can customize the test run by passing parameters:

```bash
./scripts/run_suite.sh <group> <browser> <headless>

# Example:
./scripts/run_suite.sh @regression chrome true
```

### Arguments:

- `<group>`: The name of the test group to execute (as defined in tags or runners).
- `<browser>`: The browser to use (e.g., chrome, edge).
- `<headless>`: Whether to run in headless mode (`true` or `false`).

📌 Example:

```bash
./scripts/run_suite.sh @smoke edge false
```

This would run the `smoke` group using the Edge browser with UI (non-headless).

---

## 📊 View the Allure Report Locally

```bash
./scripts/run_allure.sh
```

🌐 This will automatically open the report in your default browser.

---

## ✅ Tested Functionalities

### 🔹🔐 Authentication

- ✅ **User Registration**
- ✅ **Login**

### 🔹🛒 Shopping Cart

- ✅ **Add and remove products**
- ✅ **Validate prices and quantities**
- ✅ **Verify empty cart status**

### 🔹🛍️ Products

- ✅ **Validate product info**
- ✅ **Check product details**
- ✅ **Compare prices against Excel data**

### 🔹📨 Contact & Reviews

- ✅ **Submit contact forms**
- ✅ **Submit and validate product reviews**

---

## 🔄 GitHub Actions Workflow

Every push or pull request to the main branch triggers the test suite via GitHub Actions. After execution:

- 🔹 An Allure report is generated.
- 🔹 The report is uploaded as an artifact (downloadable ZIP).
- 🔹 The report is also deployed to GitHub Pages.

📌 Note: You can customize the GitHub Actions workflow to add more steps, like uploading other artifacts or running Slack
notifications.

---

# 🧾 Cucumber Report + Allure in GitHub Actions

The automated execution in GitHub Actions generates two types of reports:

## 📊 1. Cucumber HTML Report

Generated by the maven-cucumber-reporting plugin.

It can be found at the following path:

```
target/cucumber-html-reports/overview-features.html
```

This report shows detailed results by feature, scenario, and step, as well as execution statistics.

## 🎨 2. Allure Report

Generated by the allure-maven plugin.

It is available as a downloadable artifact (allure-report.zip) and also deployed on GitHub Pages.

It visualizes results with graphs, nested steps, attachments, screenshots, and more.

### 📁 Where to find them?

After the workflow in GitHub Actions runs:

✅ Go to the Actions tab on GitHub.

✅ Open the latest workflow run.

✅ Scroll down to the Artifacts section, where you'll see:

`cucumber-report → contains the Cucumber HTML report.`

`allure-report → contains the Allure report.`

Both can be downloaded and viewed locally.

---

## 📁 How to View Allure Report from GitHub Actions

1. Go to the **Actions** tab.
2. Select the latest workflow run (with ✅ or ❌).
3. Scroll down to the **Artifacts** section.
4. Download the `allure-report` ZIP.
5. Extract it on your machine.
6. Open `index.html` inside the extracted folder using your browser.

⚠️ If the report does not load properly locally (e.g., shows 404 errors), use GitHub Pages instead.

---

## 🌐 View Allure Report via GitHub Pages

You can access the latest report directly from:

```http
https://joskavi33.github.io/test-automation-sjc/
```

---

## ✨ Contributing

We welcome contributions! Fork the repository, create a new branch, and open a pull request. 🚀

---

## 📄 License

MIT License — You are free to use, modify, and distribute this code. 🚀

---

## 👤 Author

Developed and maintained by **Jose Cabrejo Villar**.

GitHub: [JosKavi33](https://github.com/JosKavi33)

---

## 🧠 Additional Notes

This project uses Cucumber for BDD-style test cases and Allure for detailed visual reports.

Make sure to update the Excel data file if you want to create new `.feature` files dynamically.

If you face issues with the Allure report, check for proper installation of the Allure plugin and ensure the Maven
commands are executed correctly.

